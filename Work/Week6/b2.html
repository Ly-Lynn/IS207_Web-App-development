<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <title>MENU</title>
        <style>
            body {
                padding: 1.5rem;
            }
            table {
                border: 2px solid black;
                border-collapse: collapse;
                width: 100%;
            }
            th, td {
                border: 1px solid black;
                padding: 0.5rem;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1 class="text-center">MENU 1</h1>
            <div class="m-3 return">
                <button onclick="window.location.href='all.html'">Return</button>
            </div>
            <div class="price-table mb-3">
                <table>
                    <thead>
                        <tr>
                            <th>Food</th>
                            <th>Price</th>
                            <th>Drink</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Bún bò</td>
                            <td>20.000</td>
                            <td>Cà phê đá</td>
                            <td>12.000</td>
                        </tr>
                        <tr>
                            <td>Hủ tiếu</td>
                            <td>18.000</td>
                            <td>Cà phê sữa</td>
                            <td>15.000</td>
                        </tr>
                        <tr>
                            <td>Bánh canh</td>
                            <td>17.000</td>
                            <td>Chanh dây</td>
                            <td>13.000</td>
                        </tr>
                        <tr>
                            <td>Phở bò</td>
                            <td>19.000</td>
                            <td>Chanh muối</td>
                            <td>12.000</td>
                        </tr>
                        <tr>
                            <td>Nuôi</td>
                            <td>15.000</td>
                            <td>Xí muội</td>
                            <td>14.000</td>
                        </tr>
                        <tr>
                            <td>Bánh mì thịt</td>
                            <td>12.000</td>
                            <td>Sữa tươi</td>
                            <td>13.000</td>
                        </tr>
                        <tr>
                            <td>Bánh cuốn</td>
                            <td>15.000</td>
                            <td>Cam vắt</td>
                            <td>17.000</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="order">
                <form class="order-form">
                    <table class="order-table">
                        <thead>
                            <tr>
                                <th colspan="3">MENU ORDER</th>
                            </tr>
                            <tr>
                                <th>FOOD</th>
                                <th>DRINK</th>
                                <th>TIME</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <select class="food-choice" multiple>
                                        <option value="20000">Bún bò</option>
                                        <option value="18000">Hủ tiếu</option>
                                        <option value="17000">Bánh canh</option>
                                        <option value="19000">Phở bò</option>
                                        <option value="15000">Nuôi</option>
                                        <option value="12000">Bánh mì thịt</option>
                                        <option value="15000">Bánh cuốn</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="drink-choice" multiple>
                                        <option value="12000">Cà phê đá</option>
                                        <option value="15000">Cà phê sữa</option>
                                        <option value="13000">Chanh dây</option>
                                        <option value="12000">Chanh muối</option>
                                        <option value="14000">Xí muội</option>
                                        <option value="13000">Sữa tươi</option>
                                        <option value="17000">Cam vắt</option>
                                    </select>
                                </td>
                                <td>
                                    <div class="d-flex text-center">
                                        <input type="checkbox" class="time-choice m-2" value="morning">Morning
                                    </div>
                                    <div class="d-flex text-center">
                                        <input type="checkbox" class="time-choice m-2" value="afternoon">Afternoon
                                    </div> 
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" class="btn-checkout text-center">
                                    <button type="button" class="btn btn-primary">Checkout</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <div class="total-order m-3">
                <table>
                    <thead>
                        <tr>
                            <th>Ordered</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                            <!-- Add the ordered food or drink here  -->
                             <tr>
                                <td>Total</td>
                                <td id="total-price"></td>
                             </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
    <script>
        $(document).ready(function() {
            function totalPrice() {
                var total = 0;
                $(".total-order tbody tr:not(:last)").each(function() {
                    var price = parseInt($(this).find("td:last").text()) || 0
                    total += price  
                })
                $("#total-price").text(total)
            }
            
            $(".btn-checkout").on("click", function() {
                var total_body = $(".total-order tbody")
                var total_row = $(".total-order tbody tr:last");
                $(".food-choice option:selected").each(function() {
                    var name = $(this).text()
                    var price = $(this).val()
                    total_row.before(
                        '<tr><td>'+name+'</td><td>'+price+'</td></tr>'
                    )
                })
                $('.drink-choice option:selected').each(function() {
                    var name = $(this).text()
                    var price = $(this).val()
                    total_row.before(
                        '<tr><td>'+name+'</td><td>'+price+'</td></tr>'
                    )
                })
                totalPrice();
            })
            
        })
    </script>
</html>